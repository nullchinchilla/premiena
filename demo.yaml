# English spelling implementation. A slightly modified version of http://zompist.com/spell.html
variables:
  U: "(a|e|i|o|u)"
  V: "(a|e|i|o|u|ä|ë|ï|ö|ü|â|ê|î|ô|û|ù|ò|@)"
  L: (ä|ë|ï|ö|ü)
  S: (â|ê|î|ô|û|ù|ò|@)
  A: (a|â|ä)
  C: (b|c|d|f|g|h|j|k|l|m|n|p|q|r|s|t|v|w|x|y|z|č|š|þ|ñ)
rules:
  # get rid of some digraphs
  - ch > č / _
  - sh > š / _
  - ph > f / _
  - th > þ / _
  - qu > kw / _
  # other spelling-level changes
  - w > 0 / _r
  - w > 0 / _ho
  - h > 0 / w_
  - h > 0 / %r_
  - h > 0 / ${V}_%
  - x > gz / %e_a
  - x > ks / _
  # gh is particularly variable
  - gh > g / _${V}
  - ough > ä / _t
  - augh > ä / _t
  - ough > ö / _
  - a > ä / ${C}_gh
  - e > ë / ${C}_gh
  - i > ï / ${C}_gh
  - o > ö / ${C}_gh
  - u > ü / ${C}_gh
  - gh > 0 / _
  # unpronounceable combinations
  - g > 0 / %_n
  - k > 0 / %_n
  - m > 0 / %_n
  - p > 0 / %_s
  - t > 0 / %_m
  # medial y is i
  - y > ï / %${C}_
  - y > ï / %${C}${C}_
  # - y > ï / %${C}${C}${C}_
  - ey > ë / _
  - ay > ä / _
  - oy > öy / _
